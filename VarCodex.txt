VarCodex: Primary App Functions, Main Variables/Components, and Core Variables

1. State Management:
   - Redux store
   - useSelector hook
   - config state
   Core Variables:
   - state.config
   - state.experiment
   - state.events

2. NumberSwitchingTask Experiment State:
   - experimentState: 'READY', 'SHOWING_DIGIT', 'AWAITING_RESPONSE', 'TRIAL_COMPLETE', 'EXPERIMENT_COMPLETE'
   - currentTrialIndex
   - currentDigit
   - responses
   - trials
   Core Variables:
   - DIFFICULTY_LEVELS
   - KEYS
   - INTER_TRIAL_DELAY
   - numTrials
   - difficultyLevels
   - trialsPerDifficulty
   - isCustom

3. Number Generation:
   - generateTrialNumbers function
   - generateMarkovNumber function
   - DIGITS_PER_TRIAL constant
   Core Variables:
   - config.DIFFICULTY_LEVELS
   - config.numTrials
   - trialNumbers

4. Trial Presentation:
   - TrialDisplay component
   - showNextDigit function
   - handleResponse function
   Core Variables:
   - currentDigit
   - currentTrialIndex
   - totalTrials
   - experimentState

5. Image Capture:
   - captureImage function
   - videoElement
   - queueCapture function
   - captureAndSaveImage function
   Core Variables:
   - videoStream
   - videoElement
   - canvas

6. Data Storage:
   - Frontend: IndexedDB (DB_NAME: 'ExperimentDB')
   - Backend: MongoDB with Mongoose
   - Event and Experiment models
   - CRUD operations in controllers

7. Data Export:
   - getAllTrialData function
   - ResultsView component
   - onExport prop/function
   - processDataForExport function
   - downloadData function
   Core Variables:
   - results
   - trialEntries
   - totalTrials
   - correctTrials
   - exportFormat (e.g., 'csv', 'json')

8. Backend:
   - server.js: Main Express.js server
   - database.js: MongoDB connection
   - Routes:
     - eventRoutes.js: Routes for event data
     - experimentRoutes.js: Routes for experiment data
   - Controllers:
     - eventController.js: Logic for event data
     - experimentController.js: Logic for experiment data
   - Models:
     - Event.js: Mongoose schema for events
     - Experiment.js: Mongoose schema for experiments
   - Utils:
     - imageHandler.js: Image upload and processing
     - dataExport.js: CSV and ZIP creation

9. Frontend Components:
   - EventButton
   - EventList
   - EventDisplay
   - EventDetail
   - EventForm
   - TaskInterface
   - NumberSwitchingTask
   - TrialDisplay
   - ResultsView

10. Utility Files:
    - cameraManager.js
    - indexedDB.js
    - markovChain.js
    - zipCreator.js

This VarCodex reflects our robust backend implementation alongside existing frontend functionality, providing a comprehensive map of the Ephemera-NST project's current structure and capabilities.